Сихнронизация путем отправки сообщений работает нестабильно. Иногда дочерний процесс за время печати родительским полученного числа на экран (строки 83-85) успевает отправить в канал все числа до момента блокировки файла. Таким образом, к файлу действительно не имеют доступа 2 процесса одновременно, но вывод не всегда является синхронизированным. На рисунке Test1 представлен синхронизированная попытка, на Test2 - несинхронизированная.